<!DOCTYPE html>
<html lang="ko" 
	  xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{/mobile/common/layout/mobilelayout}"
	  layout:fragment="Content">

	<style>
		.text-delivery-before {
		    color: #4777F6; 
		}
		.text-delivery-in-progress {
		    color: orange; 
		}
		.text-delivery-complete {
		    color: green; 
		}
		.text-unknown-status {
		    color: red; 
		}
	</style>

<div class="mobile-inner" style="gap: 23px;"> 
	<h3 class="menu-title">배송상황</h3>
	
	<div class="white-frame scroll" style="height: 70rem;">
		<div class="content-list deliver-state" th:each="item : ${list}" style="height: 6rem;">
			<div class="content-text-wrap">
				<span class="content-text" th:text="'주문번호: ' + ${item.order_num}"></span>
				<p class="content-text"><span th:text="'받는분:' + ${item.recipient_name}"></span></p>
				<p class="content-sub-txt"><span th:text="'주문날짜:' + ${item.order_modify_date != null ? #dates.format(item.order_modify_date, 'yyyy-MM-dd hh:mm') : #dates.format(item.order_purchase_date, 'yyyy-MM-dd hh:mm')}"></span></p>
			</div>
			<div>
				<p class="content-text" style="text-align: center;">
					<span th:text="${item.order_addr}"></span><br>
					<span th:text="${item.order_addr_detail}"></span>
				</p>			
			</div>
			<div style="text-align: end">
				<p class="content-text">
					<span style="font-weight: 700;"
						  th:classappend="${item.order_delivery_status == '01' ? 'text-delivery-before' : 
                          				   (item.order_delivery_status == '02' ? 'text-delivery-in-progress' : 
                          				   (item.order_delivery_status == '03' ? 'text-delivery-complete' : 'text-unknown-status'))}"
						  th:text="${item.order_delivery_status == '01' ? '배송전' : 
						  			(item.order_delivery_status == '02' ? '배송중' : 
						  			(item.order_delivery_status == '03' ? '배송완료' : '상태 알 수 없음'))}"></span>
				</p>
			</div>
		</div>
		
		<div id="page-area" class="page-area" th:if="${page != null}" th:data-current-page="${page.currentPage}" th:data-total-page="${page.totalPages}">
			<i id="page-arrow-left" class="fa-solid fa-angle-left page-arrow"></i>
			<span th:each="i : ${#numbers.sequence(page.startPage, page.endPage)}" th:id="'page-link-' + ${i}" class="page-link" th:text="${i}"></span>
			<i id="page-arrow-right" class="fa-solid fa-angle-right page-arrow"></i>
		</div>
	</div>
</div>
</html>