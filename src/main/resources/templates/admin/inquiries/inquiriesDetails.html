<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<link rel="stylesheet" href="/admin/reviews/css/reviews.css" />
<style>
textarea:focus {
	border: 1px solid #C0C0C0; /* 포커스 시에도 기본 보더 유지 */
	outline: none; /* 포커스 시 아웃라인 제거 */
}
</style>

<div>
	<div class="container" style="padding-bottom: 30px;" th:with="status = ${inquiries.inquiry_answer_status}">
		<!-- 뒤로가기 버튼 -->
		<button class="back-btn"
			onclick="location.href='/admin/index?path=admin/inquiries/inquiries'">
			<i class="fa-solid fa-chevron-left"></i> <span>뒤로가기</span>
		</button>

		<!-- 리뷰 상세 정보 박스 -->
		<div class="white-frame">
			<div class="text-title">
				<span th:text="'문의번호 : ' + ${inquiries.inquiry_num}"></span>
			</div>
			<div class="text-group">
				<span class="search-list-subject">제목</span> <span
					th:text="${inquiries.inquiry_title}"></span>
			</div>
			<div class="text-group">
				<span class="search-list-subject">작성자</span> <span
					th:text="${inquiries.member_id}"></span>
			</div>
			<div class="text-group">
				<span class="search-list-subject">작성날짜</span> 
				<span th:text="${#dates.format(inquiries.inquiry_write_date, 'YYYY-MM-dd HH:mm')}"></span>

			</div>
			<div class="text-group">
				<span class="search-list-subject">문의 분류</span> <span
					th:text="${inquiries.inquiry_type}"></span>
			</div>
			<div class="text-group">
				<span class="search-list-subject">내용</span> <span
					th:text="${inquiries.inquiry_content}"></span>
			</div>
			<div class="text-group">
				<span class="search-list-subject">파일첨부</span> <span
					th:text="${inquiries.inquiries_changed}"></span>
			</div>
			<div class="text-group">
				<span class="search-list-subject">답변여부</span> <span
					th:text="${status}"
					th:style="'color: ' + (${status == '처리완료'} ? '#10A142' : (${status == '미완료'} ? '#F69E47' : ''))"></span>
				<span th:text="${inquiries.manager_id}"></span>
			</div>
		</div>

		<form
			th:action="@{${status == '처리완료' ? '/admin/inquiries/update' : '/admin/inquiries/insert'}}"
			th:object="${inquiries}" method="POST">
			<div class="white-frame"
				style="margin-top: 30px; min-height: 350px; height: auto">
				<div class="text-group" style="border-bottom: none;">
					<span class="search-list-subject">답변내용</span> <input type="hidden"
						th:field="*{inquiry_num}">

					<!-- textarea 내용 설정 -->
					<textarea th:field="*{answer_content}"
						th:attr="placeholder=${status == '미완료' ? '내용을 입력하세요' : ''}"
						th:utext="${status == '처리완료' ? status : ''}"
						style="width: 100%; min-height: 230px; height: auto; padding: 10px; border-radius: 5px; border: 1px solid #c0c0c0; display: block; color: #666666; resize: none;"
						maxlength="1000">
            		</textarea>
				</div>
				<div
					style="display: flex; justify-content: center; align-items: center; gap: 20px;">
					<!-- submit 버튼 텍스트 설정 -->
					<button type="submit" class="default-btn"
						th:text="${inquiries.inquiry_answer_status == '처리완료' ? '수정' : '등록'}"></button>
					<button type="button" class="default-btn cancle" onclick="location.href='/admin/index?path=admin/inquiries/inquiries'">취소</button>
				</div>
			</div>
		</form>





	</div>
</div>
</html>
